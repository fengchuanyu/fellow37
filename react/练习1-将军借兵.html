<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <script src="./js/react.development.js"></script>
  <script src="./js/react-dom.development.js"></script>
  <script src="./js/babel.min.js"></script>
</head>
<body>
  <div id="root">

  </div>
  <script type="text/babel">
  class King extends React.Component{
    constructor(props){
      super(props)
      this.state={
        solider:100,
        GeneralA:100,
        GeneralB:100
      }
      this.getSolider = this.getSolider.bind(this);
    }

    getSolider(gName){
      //gName = "GeneralA"
      console.log(gName);
      let num = 10;
      this.setState({
        solider:this.state.solider-num,
        [gName]:this.state[gName]+num
      })
    }

    render(){
      return(
        <div>
          <h1>国王拥有{this.state.solider}万个士兵</h1>
          <General browSolider={this.getSolider} gName="A" solider={this.state.GeneralA}/>
          <General browSolider={this.getSolider} gName="B" solider={this.state.GeneralB}/>
        </div>
      )
    }
  }
  
  class General extends React.Component{
    constructor(props){
      super(props)
    }

    getSolider(){
      this.props.browSolider("General"+this.props.gName);
    }

    render(){
      return(
        <div>
          <h1>将军{this.props.gName}拥有{this.props.solider}万个士兵</h1> 
          <button onClick={this.getSolider.bind(this)}>借兵</button> 
        </div>
      )
    }

  }

  // function General(props) {
  //   function getSolider(){
  //     props.browSolider("General"+props.gName)
  //   }

  //   return(
  //     <div>
  //       <h1>将军{props.gName}拥有{props.solider}万个士兵</h1> 
  //       <button onClick={getSolider}>借兵</button> 
  //     </div>
  //   )
  // }

  ReactDOM.render(
    <King/>,
    document.getElementById("root")
  )
  </script>
</body>
</html>